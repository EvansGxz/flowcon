---
name: project-rule
description: Reglas de desarrollo para el proyecto React Flow
---

# Reglas de Estilos y ThemeContext

## Estilos y Sistema de Temas

**IMPORTANTE**: Todos los estilos de componentes creados o generados DEBEN pasar por el sistema de ThemeContext. NO se deben usar colores hardcodeados ni valores fijos.

### Rutas de Componentes de Tema

1. **ThemeContext Provider**: `src/context/ThemeContext.js`
   - Proporciona el contexto de tema a toda la aplicaci√≥n
   - Gestiona los temas: `light`, `abyss`, `dark`
   - Establece el atributo `data-theme` en `document.documentElement`

2. **Variables CSS Globales**: `src/index.css`
   - Define las variables CSS principales para todos los temas
   - Variables disponibles:
     - `--bg-primary`: Color de fondo principal
     - `--bg-secondary`: Color de fondo secundario
     - `--bg-tertiary`: Color de fondo terciario (si existe)
     - `--text-primary`: Color de texto principal
     - `--text-secondary`: Color de texto secundario
     - `--border-color`: Color de bordes
     - `--accent-color`: Color de acento/resaltado
     - `--background-pattern`: Color para patrones de fondo

3. **Variables CSS de Nodos**: `src/nodes/NodeStyles.css`
   - Variables espec√≠ficas para componentes de nodos:
     - `--node-bg`: Fondo del nodo
     - `--node-border`: Borde del nodo
     - `--node-border-selected`: Borde cuando est√° seleccionado
     - `--node-shadow`: Sombra del nodo
     - `--node-title-color`: Color del t√≠tulo
     - `--node-description-color`: Color de la descripci√≥n
     - Y otras variables relacionadas con nodos

### Reglas de Implementaci√≥n

1. **Usar Variables CSS**: Siempre usar variables CSS con `var(--variable-name)` en lugar de valores fijos
   ```css
   /* ‚úÖ CORRECTO */
   .mi-componente {
     background-color: var(--bg-primary);
     color: var(--text-primary);
     border: 1px solid var(--border-color);
   }
   
   /* ‚ùå INCORRECTO */
   .mi-componente {
     background-color: #ffffff;
     color: #1f2937;
     border: 1px solid #e5e7eb;
   }
   ```

2. **Definir Variables para Nuevos Componentes**: Si un componente necesita variables espec√≠ficas que no existen:
   - Agregar las variables en el archivo CSS del componente
   - Definir valores para cada tema usando `[data-theme='light']`, `[data-theme='abyss']`, `[data-theme='dark']`
   ```css
   :root {
     --mi-componente-bg: #ffffff;
     --mi-componente-text: #1f2937;
   }
   
   [data-theme='abyss'] {
     --mi-componente-bg: #1e293b;
     --mi-componente-text: #f1f5f9;
   }
   
   [data-theme='dark'] {
     --mi-componente-bg: #171717;
     --mi-componente-text: #f9fafb;
   }
   ```

3. **Usar ThemeContext en Componentes React**: Para l√≥gica condicional basada en el tema:
   ```javascript
   import { useTheme } from '../../context/ThemeContext';
   
   const MiComponente = () => {
     const { theme, isDark, isLight } = useTheme();
     
     // Usar para l√≥gica condicional si es necesario
     return <div className={`mi-clase ${isDark ? 'dark-mode' : ''}`}>...</div>;
   };
   ```

4. **Verificar ThemeProvider**: Asegurarse de que todos los componentes est√©n dentro del `ThemeProvider`:
   - El `ThemeProvider` debe envolver toda la aplicaci√≥n en `src/App.js`
   - Verificar que la estructura sea: `ThemeProvider > BrowserRouter > Routes > ...`

### Estructura de Archivos de Estilos

- **Globales**: `src/index.css` - Variables CSS globales y estilos base
- **Componentes**: `src/components/[componente]/[Componente].css` - Estilos espec√≠ficos del componente
- **Nodos**: `src/nodes/NodeStyles.css` - Variables y estilos espec√≠ficos de nodos
- **Temas React Flow**: `src/styles/ReactFlowTheme.css` - Temas para React Flow

### Checklist al Crear Nuevos Componentes

- [ ] Usar variables CSS del ThemeContext (`var(--variable-name)`)
- [ ] Definir variables espec√≠ficas del componente si es necesario
- [ ] Probar que el componente funciona correctamente en los 3 temas (light, abyss, dark)
- [ ] Verificar que el componente est√° dentro del ThemeProvider
- [ ] No usar valores de color hardcodeados
- [ ] Usar `useTheme()` hook si se necesita l√≥gica condicional basada en el tema
- [ ] NO usar emojis en el c√≥digo
- [ ] Usar iconos de `lucide-react` en lugar de SVGs manuales

---

# Reglas de Iconos y Emojis

## Prohibici√≥n de Emojis

**IMPORTANTE**: NUNCA usar emojis en el c√≥digo del proyecto. Los emojis pueden causar problemas de compatibilidad, renderizado inconsistente entre plataformas y no son accesibles.

### ‚ùå INCORRECTO - No usar emojis:
```javascript
// ‚ùå INCORRECTO
const icon = 'üëÜ';
const message = '‚úÖ √âxito';
const button = <button>üöÄ Ejecutar</button>;
```

### ‚úÖ CORRECTO - Usar iconos de lucide-react:
```javascript
// ‚úÖ CORRECTO
import { Play, Check, Rocket } from 'lucide-react';

const icon = <Play />;
const message = <><Check /> √âxito</>;
const button = <button><Rocket /> Ejecutar</button>;
```

## Uso de Iconos con lucide-react

**OBLIGATORIO**: Todos los iconos deben provenir de la librer√≠a `lucide-react`. NO se deben crear SVGs manualmente ni usar otros sistemas de iconos.

### Instalaci√≥n y Uso

1. **Instalar lucide-react** (si no est√° instalado):
   ```bash
   npm install lucide-react
   ```

2. **Importar iconos espec√≠ficos**:
   ```javascript
   import { Home, User, Settings, ChevronRight, X } from 'lucide-react';
   ```

3. **Usar iconos en componentes**:
   ```javascript
   import { Home, User, Settings } from 'lucide-react';
   
   const Sidebar = () => {
     return (
       <div>
         <button>
           <Home size={20} />
           <span>Inicio</span>
         </button>
         <button>
           <User size={20} />
           <span>Usuario</span>
         </button>
         <button>
           <Settings size={20} />
           <span>Configuraci√≥n</span>
         </button>
       </div>
     );
   };
   ```

### Propiedades de Iconos lucide-react

Los iconos de `lucide-react` aceptan las siguientes props est√°ndar:

- `size`: Tama√±o del icono (n√∫mero, por defecto 24)
- `color`: Color del icono (string, por defecto "currentColor")
- `strokeWidth`: Grosor del trazo (n√∫mero, por defecto 2)
- `className`: Clase CSS adicional

```javascript
import { Home } from 'lucide-react';

// Ejemplo con propiedades personalizadas
<Home 
  size={20} 
  color="var(--accent-color)" 
  strokeWidth={2.5}
  className="mi-clase-icono"
/>
```

### ‚ùå INCORRECTO - No crear SVGs manualmente:
```javascript
// ‚ùå INCORRECTO
const Icon = () => (
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" strokeWidth="2" />
  </svg>
);
```

### ‚úÖ CORRECTO - Usar lucide-react:
```javascript
// ‚úÖ CORRECTO
import { Home } from 'lucide-react';

const Icon = () => <Home size={20} />;
```

### Buscar Iconos Disponibles

Para encontrar el icono adecuado, consultar la documentaci√≥n de lucide-react:
- **Documentaci√≥n oficial**: https://lucide.dev/icons/
- **B√∫squeda**: Usar el buscador en la p√°gina para encontrar iconos por nombre

### Ejemplos de Reemplazo Com√∫n

| Emoji/Descripci√≥n | Icono lucide-react | Import |
|-------------------|-------------------|--------|
| üëÜ (mano se√±alando) | `Hand` o `Pointer` | `import { Hand } from 'lucide-react'` |
| üè† (casa) | `Home` | `import { Home } from 'lucide-react'` |
| üë§ (usuario) | `User` | `import { User } from 'lucide-react'` |
| ‚öôÔ∏è (configuraci√≥n) | `Settings` | `import { Settings } from 'lucide-react'` |
| ‚úÖ (check) | `Check` | `import { Check } from 'lucide-react'` |
| ‚ùå (X) | `X` | `import { X } from 'lucide-react'` |
| ‚û°Ô∏è (flecha derecha) | `ChevronRight` | `import { ChevronRight } from 'lucide-react'` |
| üîÑ (refresh) | `RefreshCw` | `import { RefreshCw } from 'lucide-react'` |
| üöÄ (cohete) | `Rocket` | `import { Rocket } from 'lucide-react'` |

### Checklist al Usar Iconos

- [ ] NO usar emojis en el c√≥digo
- [ ] Importar iconos desde `lucide-react`
- [ ] Usar el nombre correcto del icono seg√∫n la documentaci√≥n
- [ ] Especificar `size` cuando sea necesario (por defecto 24)
- [ ] Usar `color="currentColor"` o variables CSS para colores
- [ ] NO crear SVGs manualmente
- [ ] Verificar que el icono existe en lucide-react antes de usarlo